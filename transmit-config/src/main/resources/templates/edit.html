<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Editor</title>
    <style type="text/css" media="screen">
        .ace_editor,
        .toolbar {
            border: 1px solid lightgray;
            margin: auto;
            width: 80%;
        }

        .ace_editor {
            height: 200px;
        }
    </style>
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/ace.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/ext-language_tools.js" type="text/javascript">
    </script>
    <!-- 样式 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/ext-themelist.js" type="text/javascript"></script>
    <!-- 代码语言 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/mode-json.js" type="text/javascript"></script>
    <script>
        var buildDom = require("ace/lib/dom").buildDom;
        //
        var editor = ace.edit();
        editor.setOptions({
            theme: "ace/theme/tomorrow_night_eighties",
            mode: "ace/mode/json",
            maxLines: 40,
            minLines: 40,
            autoScrollEditorIntoView: true,
            enableLiveAutocompletion: true
        });
        //设置文本
        editor.session.setValue("")
        //自动提示
        var languageTools = ace.require("ace/ext/language_tools");
        languageTools.addCompleter({
            getCompletions: function (editor, session, pos, prefix, callback) {
                callback(null, [{
                    caption: "",
                    meta: "",
                    value: "",
                    score: 1
                }, {
                    caption: "hellow2",
                    value: "hellow world hahah ",
                    score: 1
                }]);
            }
        });
        //按钮
        var refs = {};
        buildDom(["div", {
                class: "toolbar"
            },
            ["button", {
                ref: "saveButton",
                onclick: function () {
                    alert("保存成功")
                }
            }, "保存"],
        ], document.body, refs);
        //
        document.body.appendChild(editor.container)
        window.editor = editor;
    </script>

</body>

</html>